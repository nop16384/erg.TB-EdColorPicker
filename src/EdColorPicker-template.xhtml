<?xml version="1.0"?>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
<?xml-stylesheet href="chrome://editor/skin/EditorDialog.css" type="text/css"?>
<?xml-stylesheet href="chrome://messenger/skin/themeableDialog.css" type="text/css"?>

<!DOCTYPE window SYSTEM "chrome://messenger/locale/messengercompose/EdColorPicker.dtd">

<window title="&windowTitle.label;"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns:html="http://www.w3.org/1999/xhtml"
        lightweightthemes="true"
        onload="Startup()">
<dialog>

  <script src="chrome://messenger/content/messengercompose/editorUtilities.js"/>
  <script src="chrome://messenger/content/messengercompose/EdDialogCommon.js"/>
  <script src="chrome://messenger/content/messengercompose/EdColorPicker.js"/>
  <script src="chrome://messenger/content/dialogShadowDom.js"/>

  <!-- =========================================================================================
       POPUPS
       ========================================================================================= -->
  <popupset>
    <tooltip id="tip_rst">

      <html:div style="font-family:monospace; font-size:11px">Alt + LeftClick
resets all colors</html:div>

    </tooltip>
  </popupset>

  <popupset>
    <tooltip id="tip_hlp">

      <html:div style="font-family:monospace; font-size:11px"><html:b>(1) </html:b>LeftClick selects a color
<html:b>(2) </html:b>Alt + LeftClick deletes a color</html:div>

    </tooltip>
  </popupset>

  <popupset>
    <tooltip id="tip_abt">

      <html:div style="font-family:monospace; font-size:11px">Version : __ERG_MARK_XHTML__VERSION__
https://github.com/earlgrey-bis/erg.TB-EdColorPicker</html:div>

    </tooltip>
  </popupset>

  <!-- =========================================================================================
       ???
       ========================================================================================= -->

  <spacer id="location" offsetX="50" offsetY="50" persist="offsetX offsetY"/>

  <hbox id="TableOrCellGroup" align="center" collapsed="true">
    <label control="CellOrTableGroup" value="&background.label;" accesskey="&background.accessKey;"/>
    <radiogroup id="CellOrTableGroup" orient="horizontal">
      <radio id="TableRadio" label="&table.label;" accesskey="&table.accessKey;"/>
      <radio id="CellRadio"  label="&cell.label;"  accesskey="&cell.accessKey;"/>
  </radiogroup>
  </hbox>

  <hbox>                                                                                            <!-- 1 +HBOX            -->

    <vbox>                                                                                          <!-- 2   +VBOX          -->

        <!-- ===================================================================================
             COLOR PICKER
             =================================================================================== -->
        <hbox>

          <html:input type="color" id="ColorPicker"
            ondblclick="if (onAccept()) { window.close(); }"
            onkeypress="erg_ecp_cpk__cbk_keypress(event);"
            onchange="erg_ecp_cpk__cbk_changed();"/>

        </hbox>
        <!-- ===================================================================================
             DEFAULT BUTTON
             =================================================================================== -->
        <hbox>
          <button id="DefaultColorButton" label="&default.label;" accesskey="&default.accessKey;" oncommand="onDefault()"/>
        </hbox>

    </vbox>                                                                                         <!-- 2   -VBOX          -->

        <!-- ===================================================================================
             SPACER VBOX
             =================================================================================== -->
    <vbox flex="2">                                                                                 <!-- 2   +VBOX          -->
    </vbox>                                                                                         <!-- 2   -VBOX          -->


    <vbox>                                                                                          <!-- 2   +VBOX          -->

        <!-- ===================================================================================
             LAST PICKED COLORS
             =================================================================================== -->
        <hbox>                                                                                      <!-- 3     +HBOX        -->

          <menulist
            id="erg_ecp_EDOM_lpc__mnl"
            label="Last"
            crop="none"
            sizetopopup="none"
            pickedColors=""
            oncommand="erg_ecp_lpc__cbk_changed(event)"
            persist="erg_ecp_VDOM_lpc__picked_colors">

            <menupopup
              style="overflow:scroll; __ERG_MARK_XHTML__LPC_CSS_POP_SIZE__">

              <!-- border:1px solid black; -->

              <vbox id="erg_ecp_EDOM_lpc__vbox_mp">

                  <hbox>
                    <box style="padding:2px;"> <menuitem idr="0" idc="0" label="" value="#da504d" style="background-color:#da504d; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="0" idc="1" label="" value="#ffa500" style="background-color:#ffa500; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="0" idc="2" label="" value="#ffc0cb" style="background-color:#ffc0cb; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="0" idc="3" label="" value="#90ee90" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="0" idc="4" label="" value="#889044" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                  </hbox>
                  <hbox>
                    <box style="padding:2px;"> <menuitem idr="1" idc="0" label="" value="#90ee90" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="1" idc="1" label="" value="#da504d" style="background-color:#da504d; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="1" idc="2" label="" value="#ffa500" style="background-color:#ffa500; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="1" idc="3" label="" value="#ffc0cb" style="background-color:#ffc0cb; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                    <box style="padding:2px;"> <menuitem idr="1" idc="4" label="" value="#889044" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                  </hbox>
                  <hbox>
                    <box style="padding:2px;"> <menuitem idr="2" idc="0" label="" value="#da504d" style="background-color:#da504d; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="2" idc="1" label="" value="#ffa500" style="background-color:#ffa500; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="2" idc="2" label="" value="#ffc0cb" style="background-color:#ffc0cb; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="2" idc="3" label="" value="#90ee90" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="2" idc="4" label="" value="#889044" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                  </hbox>
                  <hbox>
                    <box style="padding:2px;"> <menuitem idr="3" idc="0" label="" value="#da504d" style="background-color:#da504d; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="3" idc="1" label="" value="#ffa500" style="background-color:#ffa500; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="3" idc="2" label="" value="#ffc0cb" style="background-color:#ffc0cb; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="3" idc="3" label="" value="#90ee90" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="3" idc="4" label="" value="#889044" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                  </hbox>
                  <hbox>
                    <box style="padding:2px;"> <menuitem idr="4" idc="0" label="" value="#da504d" style="background-color:#da504d; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="4" idc="1" label="" value="#ffa500" style="background-color:#ffa500; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="4" idc="2" label="" value="#ffc0cb" style="background-color:#ffc0cb; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="4" idc="3" label="" value="#90ee90" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__"/></box>
                    <box style="padding:2px;"> <menuitem idr="4" idc="4" label="" value="#889044" style="background-color:#90ee90; __ERG_MARK_XHTML__LPC_CSS_BOX_SIZE__ "/></box>
                  </hbox>
                  <!-- ========================== Reset button ================================= -->
                  <hbox style="padding:2px; align:center;">
                  <button
                    id="erg_ecp_EDOM_lpc__btn_rst"
                    label="Reset colors"
                    tooltip="tip_rst"
                    style="margin-left:0px; margin-right:0px; margin-top:0px; margin-bottom:0px; __ERG_MARK_XHTML__LPC_CSS_RHA_SIZE__"
                    oncommand="erg_ecp_lpc__cbk_reset(event)">
                  </button>
                  </hbox>
                  <!-- ========================== Help  button ================================= -->
                  <hbox style="padding:2px 2px 4px 2px; align:center;">
                    <menuitem label="Help" value="#HELP" tooltip="tip_hlp" style="align:right; background-color:#dadad5; __ERG_MARK_XHTML__LPC_CSS_RHA_SIZE__"/>
                  </hbox>
                  <!-- ========================== Separator ==================================== -->
                  <separator class="groove"/>
                  <!-- ========================== Settings button ============================== -->
                  <hbox style="padding:2px; align:center;">
                  <button
                    id="erg_ecp_EDOM_stg__btn"
                    label="↓ Show settings"
                    style="margin-left:0px; margin-right:0px; margin-top:2px; margin-bottom:0px; __ERG_MARK_XHTML__LPC_CSS_RHA_SIZE__"
                    oncommand="erg_ecp_stg__cbk_clicked(event)">
                  </button>
                  </hbox>

                  <vbox
                    id="erg_ecp_EDOM_stg__vbox"
                    hidden="true"
                    style="padding:0px; align:center; background-color:#eaeae0">
                    <checkbox id="erg_ecp_EDOM_stg__chk01" disabled="false" label="Show logs" checked="false" oncommand="erg_ecp_stg__cbk_chk_clicked(event)"/>
                    <checkbox id="erg_ecp_EDOM_stg__chk02" disabled="true"  label="option 02" checked="false" oncommand="erg_ecp_stg__cbk_chk_clicked(event)"/>
                    <checkbox id="erg_ecp_EDOM_stg__chk03" disabled="true"  label="option 03" checked="false" oncommand="erg_ecp_stg__cbk_chk_clicked(event)"/>
                  </vbox>
                  <!-- ========================== About button ================================= -->
                  <hbox style="padding:2px; align:center;">
                    <menuitem label="About" value="#ABOUT" tooltip="tip_abt" style="align:right; background-color:#dadad5; __ERG_MARK_XHTML__LPC_CSS_RHA_SIZE__"/>
                  </hbox>

              </vbox>

            </menupopup>

          </menulist>

          <spacer flex="1"/>

          <vbox
            id="erg_ecp_EDOM_lpc__vbox"
            style=" border:none; padding-top:2px; height:15px; min-width:10px; width:30px;"
            LastTextColor=""
            LastBackgroundColor=""
            persist="LastTextColor LastBackgroundColor">

            <button id="erg_ecp_EDOM_lpc__btn"
              style="min-height:10px; min-width:10px; width:20px; height:20px; background-color:#aabb55;"
              erg_ecp_VDOM_lpc__btn_bg_col_hex="#aabb55"
              oncommand="erg_ecp_lpc__cbk_clicked()">
            </button>
          </vbox>

        </hbox>                                                                                     <!-- 3     -HBOX        -->

        <!-- ===================================================================================
             CSS COLORS
             =================================================================================== -->
        <hbox>                                                                                      <!-- 3     +HBOX        -->

          <menulist
            id="erg_ecp_EDOM_css__mnl"
            label="CSS colors"
            crop="none"
            sizetopopup="none"
            oncommand="erg_ecp_css__cbk_changed(event)">

            <menupopup
              style="font-size:12px; max-height:500px; min-width:10px; width:130px; overflow:scroll;">
__ERG_MARK_XHTML__CSS_COLORS__
            </menupopup>
          </menulist>

          <spacer flex="1"/>

          <vbox
            style="padding-top:2px;  min-width:10px;  width:30px; height:15px; border:none;">
            <button id="erg_ecp_EDOM_css__btn"
              style="min-height:10px; min-width:10px; width:20px; height:20px; background-color:#aabb55;"
              erg_ecp_VDOM_css__btn_bg_col_hex="#aabb55"
              oncommand="erg_ecp_css__cbk_clicked()">
            </button>
          </vbox>

        </hbox>                                                                                     <!-- 3     -HBOX        -->

    </vbox>                                                                                         <!-- 2   -VBOX          -->

  </hbox>                                                                                           <!-- 1 -HBOX            -->
  <!-- =========================================================================================
       COLOR INPUT
       ========================================================================================= -->
  <separator class="groove"/>

  <hbox align="center" flex="1">

    <vbox>
      <label class="tip-caption" value="&chooseColor2.label;" accesskey="&chooseColor2.accessKey;" control="ColorInput"/>
      <label class="tip-caption" value="&setColorExample.label;"/>
    </vbox>

    <html:input id="erg_ecp_EDOM_inp__txt" type="text" style="width: 8em"
      oninput="erg_ecp_inp__cbk_input();"/>

    <label id="ColorPickerSwatch"/>

    <button id="erg_ecp_EDOM_inp__btn"
      style="min-height:5px; min-width:10px; width:30px; height:20px; background-color:#aabb55;"
      erg_ecp_VDOM_inp__btn_bg_col_hex="#aabb55"
      oncommand="">
    </button>

  </hbox>
  <separator class="groove"/>
</dialog>
</window>
